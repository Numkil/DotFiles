####MY MPV CONFIG####
# Video

# Use opengl-hq with the following personal settings. This should be quite optimal for me
vo=opengl-hq:pbo:dither-depth=no:scaler-resizes-only:interpolation:scale=haasnsoft
display-fps=60      # Set the maximum assumed display FPS used with --framedrop
vf=gradfun          # Enable ffmpegs's debanding filter
framedrop=vo        # Drop late frames on video output, but still decode and filter them.
video-sync=display-resample

# Cache
cache=auto 	    # Newer builds of mpv seem to have some troubles with a fixed cache
cache-initial=1000
cache-seek-min=2000

# Audio
ao=pulse,alsa       # Prefer pulse then alsa
audio-channels=2    # Stereo sound
af=drc              # Use Dynamic Range Compression filter on audio
af=scaletempo       # When changing playback speed, keep the pitch
gapless-audio       # Reserve the audio device for all playbacks

# Subtitles behavior and feel
sub-auto=fuzzy                           # Load all subtitles, also in [sub-paths]
demuxer-mkv-subtitle-preroll             # See if subtitles that overlap can be placed on top of each other
ass-force-style=Kerning=yes              # Enable kerning because pretty
slang=en,eng,English                     # Prefered subtitle and audio languages here
alang=Korean,kor,Japanese,jpn,jp,English,eng,en

# Subtitles look
sub-text-font="DejaVu Sans"
sub-text-font-size=42
sub-text-margin-y=36
sub-text-color="#ffffffff"
sub-text-border-color="#ff262626"
sub-text-border-size=1.5
sub-text-shadow-offset=1
sub-text-shadow-color="#33000000"
sub-text-spacing=0.3

# Make progress-bar minimal af
osd-font="Deja Vu Sans"
osd-font-size=42
osd-bar-h=2
osd-bar-w=90
osd-bar-align-x=0
osd-bar-align-y=0.95
osd-border-size=1
osd-color='#fdfdfd'
osd-border-color='#ff262626'
osd-shadow-color='#33000000'
osd-shadow-offset=1

# Streaming
ytdl=yes
ytdl-format=(bestvideo[ext=webm]/bestvideo[height>720]/bestvideo[fps=60])[tbr<13000]+(bestaudio[acodec=opus]/bestaudio[ext=webm]/bestaudio)/best

# Misc
audio-display=no                         # Disable display of video when playing music files

# Extensions
[extension.webm]
loop-file=inf
